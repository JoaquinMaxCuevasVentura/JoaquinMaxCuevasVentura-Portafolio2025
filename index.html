<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOAQUIN MAX CUEVAS VENTURA | Portafolio 2025</title>

    <!-- 1. TIPOGRAFÍA -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Archivo:wght@300;400;600;700&display=swap" rel="stylesheet">

    <!-- 2. ESTILOS DFLIP & ICONOS -->
    <link href="https://cdn.jsdelivr.net/npm/dflip/css/dflip.min.css" rel="stylesheet" type="text/css">
    <link href="https://cdn.jsdelivr.net/npm/dflip/css/themify-icons.min.css" rel="stylesheet" type="text/css">
    
    <!-- 3. ESTILOS DE ENRIQUECIMIENTO (Tippy + SweetAlert) -->
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/animations/scale.css"/>

    <style>
        /* --- SISTEMA DE DISEÑO --- */
        :root {
            --bg-color: #050505;      
            --accent-color: #dc6b2f;
            --text-main: #FFFFFF;     
            --ui-opacity: 0.8;
        }

        body, html {
            height: 100%;
            margin: 0;
            background-color: var(--bg-color);
            font-family: 'Archivo', sans-serif !important;
            overflow: hidden;
        }

        /* FONDO GRANULADO */
        #grained-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            z-index: 0; pointer-events: none;
        }

        /* CONTENEDOR DEL LIBRO */
        #flipbook-container {
            height: 100vh; width: 100vw;
            position: relative; z-index: 10; 
        }

        /* --- PERSONALIZACIÓN UI (Minimalismo Extremo) --- */
        .df-ui-wrapper {
            background: transparent !important;
            box-shadow: none !important;
            border: none !important;
            padding-bottom: 40px !important; /* Más espacio abajo */
        }

        .df-ui-btn {
            background: rgba(255,255,255,0.05) !important; /* Sutil fondo para contraste */
            border: 1px solid rgba(255,255,255,0.1) !important;
            border-radius: 50% !important; /* Botones redondos para el Portafolio */
            color: var(--text-main) !important;
            margin: 0 6px !important;
            width: 40px !important;
            height: 40px !important;
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
            display: flex; justify-content: center; align-items: center;
        }

        /* Hover Naranja */
        .df-ui-btn:hover, .df-ui-btn.active {
            color: var(--bg-color) !important;
            background: var(--accent-color) !important;
            border-color: var(--accent-color) !important;
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(220, 107, 47, 0.4) !important;
        }

        /* Ajuste del input de página */
        .df-ui-page input {
            background: transparent !important;
            border: none !important;
            color: var(--text-main) !important;
            font-family: 'Archivo', sans-serif !important;
            font-weight: 700;
        }
        .df-ui-page label { display: none !important; } /* Ocultar el "/" */

        /* Ocultar elementos innecesarios */
        .df-ui-share, .df-ui-download, .df-ui-more { display: none !important; }

        /* --- MODAL SWEETALERT2 PERSONALIZADO --- */
        .swal2-popup {
            background: #111 !important;
            border: 1px solid #333;
            color: #fff !important;
            font-family: 'Archivo', sans-serif !important;
            border-radius: 0 !important; /* Bordes rectos arquitectónicos */
        }
        .swal2-title { color: #fff !important; font-weight: 800 !important; letter-spacing: 1px; }
        .swal2-content { color: #aaa !important; }
        .swal2-confirm {
            background-color: var(--accent-color) !important;
            border-radius: 0 !important;
            font-weight: 600 !important;
            box-shadow: none !important;
        }
        
        /* Links en el modal de contacto */
        .contact-link {
            display: block; margin: 10px 0; color: #fff; text-decoration: none;
            font-size: 16px; transition: 0.2s; border: 1px solid #333; padding: 15px;
        }
        .contact-link:hover { border-color: var(--accent-color); color: var(--accent-color); }
        .contact-link i { margin-right: 10px; color: var(--accent-color); }

        /* --- TIPPY TOOLTIP --- */
        .tippy-box[data-theme~='custom'] {
            background-color: var(--accent-color);
            color: var(--bg-color);
            font-family: 'Archivo', sans-serif;
            font-weight: 700;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-radius: 2px;
        }
        .tippy-arrow { color: var(--accent-color); }

    </style>
</head>
<body>

    <div id="grained-container"></div>
    <div id="flipbook-container"></div>

    <!-- SCRIPTS -->
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/dflip/js/dflip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/grained/0.0.2/grained.min.js"></script>
    
    <!-- Librerías Extra -->
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        // 1. TEXTURA DE FONDO (Igual que tus otros proyectos)
        try {
            grained('#grained-container', {
                "animate": true, "patternWidth": 100, "patternHeight": 100,
                "grainOpacity": 0.04, "grainDensity": 1, "grainWidth": 1, "grainHeight": 1
            });
        } catch(e) { console.log("Error Grano"); }

        // 2. CONFIGURACIÓN DFLIP
        jQuery(document).ready(function() {
            
            // NOMBRE DEL PDF (Asegúrate que coincida)
            var pdfName = "PORTAFOLIO_2025_JoaquinMaxCuevasVentura_v01.pdf";

            var bookOptions = {
                source: pdfName,
                webgl: true, // Renderizado suave
                height: "100%",
                duration: 800, // Un poco más lento para elegancia
                backgroundColor: "transparent",
                
                // Modo Automático: Detecta spreads (Portadas simples, interiores dobles)
                pageMode: 1, 
                singlePageMode: false, 

                // Traducciones
                text: { toggleSound: "Sonido", toggleThumbnails: "Vistas", toggleOutline: "Índice", toggleFullscreen: "Pantalla Completa" },
                
                // Controles visibles
                allControls: "altPrev,pageNumber,altNext,outline,thumbnail,zoomIn,zoomOut,fullScreen,more",
                
                onReady: function(scene) {
                    
                    // A. INYECTAR BOTÓN DE CONTACTO (EL "CTA")
                    var contactBtn = $('<div class="df-ui-btn df-ui-contact" id="btn-contact" data-tippy-content="CONTACTO"><i class="ti-user"></i></div>');
                    $('.df-ui-wrapper').append(contactBtn);

                    // B. LÓGICA DEL BOTÓN DE CONTACTO (SWEETALERT2)
                    contactBtn.on('click', function() {
                        Swal.fire({
                            title: 'JOAQUIN MAX CUEVAS VENTURA',
                            html: `
                                <div style="margin-bottom:20px; font-size:12px; opacity:0.7">ARQUITECTURA Y DISEÑO GRÁFICO</div>
                                <a href="mailto:JoACKo333@gmail.com" class="contact-link">
                                    <i class="ti-email"></i> JoACKo333@gmail.com
                                </a>
                                <a href="tel:+59178834651" class="contact-link">
                                    <i class="ti-mobile"></i> +591 788 34 651
                                </a>
                                <a href="#" class="contact-link" style="border:none; font-size:12px;">
                                    <i class="ti-location-pin"></i> La Paz, Bolivia
                                </a>
                            `,
                            showConfirmButton: false,
                            showCloseButton: true,
                            background: '#050505',
                            backdrop: `rgba(0,0,0,0.8)`
                        });
                    });

                    // C. INICIALIZAR TOOLTIPS (TIPPY.JS)
                    // Asignamos tooltips a los botones nativos de dFlip
                    $('.df-ui-prev').attr('data-tippy-content', 'ANTERIOR');
                    $('.df-ui-next').attr('data-tippy-content', 'SIGUIENTE');
                    $('.df-ui-zoomIn').attr('data-tippy-content', 'ACERCAR');
                    $('.df-ui-zoomOut').attr('data-tippy-content', 'ALEJAR');
                    $('.df-ui-fit').attr('data-tippy-content', 'AJUSTAR');
                    $('.df-ui-thumbnail').attr('data-tippy-content', 'MINIATURAS');
                    $('.df-ui-outline').attr('data-tippy-content', 'ÍNDICE');
                    $('.df-ui-fullscreen').attr('data-tippy-content', 'FULLSCREEN');
                    $('.df-ui-sound').attr('data-tippy-content', 'SONIDO');

                    // Activar Tippy
                    tippy('[data-tippy-content]', {
                        theme: 'custom',
                        animation: 'scale',
                        touch: false, // No mostrar en móviles para no estorbar
                        placement: 'top'
                    });
                }
            };

            var book = $("#flipbook-container").flipBook(bookOptions.source, bookOptions);
        });
    </script>

</body>
</html>
